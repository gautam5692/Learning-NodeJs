<%- include("../partials/head") %>
</head>

<body>
  <%- include("../partials/user_header") %>
  <main class="w-full mt-5 flex flex-col justify-center items-center p-5">
    <% if(registeredHomes.length != 0) { %>
    <div class="w-full">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">
        Available Homes
      </h2>
      <ul class="flex justify-center items-center flex-wrap gap-2">
        <% registeredHomes.forEach((home) => { %>
        <li class="bg-white overflow-hidden rounded shadow-md max-w-64">
          <a href="/home-detail/<%=home.id%>" title="Click to see details">
            <div class="h-44 overflow-hidden">
              <img src="https://www.livehome3d.com/assets/img/articles/design-house/how-to-design-a-house@2x.jpg" alt="home_img" class="w-full h-full">
            </div>
            <div class="flex flex-col px-4">
              <div class="text-sm font-medium">
                <%= home.house_name %> in <%= home.location %>
              </div>
              <div class="text-xs text-gray-500 flex items-baseline gap-1">
                <div>
                  Rs.<%= home.price * 2 %> for 2 nights
                </div> Â·
                <div class="flex items-center justify-baseline">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 8px; width: 8px; fill: currentcolor;">
                    <path fill-rule="evenodd" d="m15.1 1.58-4.13 8.88-9.86 1.27a1 1 0 0 0-.54 1.74l7.3 6.57-1.97 9.85a1 1 0 0 0 1.48 1.06l8.62-5 8.63 5a1 1 0 0 0 1.48-1.06l-1.97-9.85 7.3-6.57a1 1 0 0 0-.55-1.73l-9.86-1.28-4.12-8.88a1 1 0 0 0-1.82 0z"></path>
                  </svg> <%= home.rating %>
                </div>
              </div>
            </div>
          </a>
          <button class="absolute top-3 right-3 cursor-pointer bg-gray-500 h-8 w-8 flex justify-center items-center rounded-3xl invisible opacity-0 group-hover:visible group-hover:opacity-100 transition duration-300" title="Add to favourites">
            <svg xmlns="http://www.w3.org/2000/svg" height="25" width="25" fill="white" viewBox="0 0 640 640">
              <path d="M442.9 144C415.6 144 389.9 157.1 373.9 179.2L339.5 226.8C335 233 327.8 236.7 320.1 236.7C312.4 236.7 305.2 233 300.7 226.8L266.3 179.2C250.3 157.1 224.6 144 197.3 144C150.3 144 112.2 182.1 112.2 229.1C112.2 279 144.2 327.5 180.3 371.4C221.4 421.4 271.7 465.4 306.2 491.7C309.4 494.1 314.1 495.9 320.2 495.9C326.3 495.9 331 494.1 334.2 491.7C368.7 465.4 419 421.3 460.1 371.4C496.3 327.5 528.2 279 528.2 229.1C528.2 182.1 490.1 144 443.1 144zM335 151.1C360 116.5 400.2 96 442.9 96C516.4 96 576 155.6 576 229.1C576 297.7 533.1 358 496.9 401.9C452.8 455.5 399.6 502 363.1 529.8C350.8 539.2 335.6 543.9 320 543.9C304.4 543.9 289.2 539.2 276.9 529.8C240.4 502 187.2 455.5 143.1 402C106.9 358.1 64 297.7 64 229.1C64 155.6 123.6 96 197.1 96C239.8 96 280 116.5 305 151.1L320 171.8L335 151.1z" />
            </svg>
          </button>
          <div class="flex justify-evenly items-center py-5">
            <button class="bg-green-400 rounded-3xl w-2/5 py-1 cursor-pointer text-white">Book</button>
            <button class="bg-blue-400 rounded-3xl w-2/5 py-1 cursor-pointer text-white">Reserve</button>
          </div>
        </li>
        <% }) %>
      </ul>
    </div>
    <% } else { %>
    <div class="rounded-lg shadow-md bg-white p-8">
      <h1 class="text-3xl font-bold text-center text-gray-800 px-10 py-6">
        No home available
      </h1>
    </div>
    <% } %>
  </main>
</body>

</html>